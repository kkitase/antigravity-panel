# Webview 字体排版系统分析报告 (最终优化版 - REM 架构)

## 1. 系统概述
本报告总结了 Webview 界面在经过 **REM 架构升级** 后的字体系统。

### 核心变更：EM → REM
为了彻底解决 CSS 层级嵌套导致的字号叠乘（Compounding）问题，系统已全面迁移至 `rem` 单位。
- **html 根元素**：字号动态同步自 VS Code 的 `--vscode-font-size`。
- **rem 单位**：所有文字字号均相对于根元素，保证了无论 UI 结构如何嵌套，字号始终稳定、可预测。
- **等比缩放支持**：系统预留了 `--antigravity-font-scale` 变量，支持未来一键等比缩放整个面板。

---

## 2. 核心排版规范

### A. 骨干文字层级 (Primary & Secondary)
| 尺寸 | 视觉角色 | 典型应用场景 |
|:---|:---|:---|
| **0.90rem** | **动作与强调** | 导航按钮(Toolbar)、主要动作按钮、统计数值(Stats)、积分数值 |
| **0.85rem** | **主要文本内容** | 区块标题(Section Header)、树节点标签(Folder/File Label)、用户信息正文 |
| **0.80rem** | **辅助信息层级** | 全局 Tooltip、图表图例、积分条细项、文件夹大小、树状数值 |

### B. 常规装饰 (Decor)
| 尺寸 | 视觉角色 | 典型应用场景 |
|:---|:---|:---|
| **0.75rem** | **次级标记** | 侧边栏底部标语、仪表盘模型名称、用户等级徽章 |

### C. 微观辅助 (Micro Details)
| 尺寸 | 视觉角色 | 典型应用场景 |
|:---|:---|:---|
| **0.62rem** | **副标签** | 仪表盘副标题/补充说明 |
| **0.55rem** | **单位符号** | 仪表盘中的百分比符号 (%) |

---

## 3. 图标系统 (Codicons)
图标采用 **`em`** 单位，确保其始终相对于关联文字按比例缩放，保持视觉平衡。

| 尺寸 | 对应文字 | 典型应用场景 |
|:---|:---|:---|
| **1.10em** | 对应 0.90rem | 标准按钮图标 (Toolbar, Action, Link) |
| **1.25em** | 对应 0.85rem+ | 高亮图标 (User Avatar, Discussions, Warning) |
| **0.80em** | 特殊用途 | 文件夹删除图标 (紧凑型，强制与文字同大) |

---

## 4. 数据可视化核心 (Metrics)
| 尺寸 | 使用位置 | 说明 |
|:---|:---|:---|
| **1.15rem** | 仪表盘中央数值 | 核心数据指标展示 |

---

## 5. 维护指导
- **拒绝像素**：禁止在 CSS 中使用 `px` 设定字号。
- **优先使用 REM**：所有新增文字字号必须使用 `rem`，严禁使用 `em`（防止层级叠加）。
- **图标使用 EM**：图标建议使用 `em` 设定，以便随文字自动调整比例。
- **全局缩放**：如需整体调整面板比例，请修改 `:root` 或 `html` 下的 `--antigravity-font-scale`。
